# Test Plan: User Management Application

## 1. Introduction

This document outlines the manual test plan for the User Management Application. The purpose of these tests is to verify the functionality, usability, and robustness of the application, particularly focusing on Create, Read, Update, and Delete (CRUD) operations for user data.

## 2. Test Environment

*   **Application:** User Management Swing Application (`UserListView.java`, `EditUserDialog.java`, `DBConnection.java`, etc.)
*   **Database:** MySQL (or the configured database in `DBConnection.java`)
*   **Java Runtime:** JDK/JRE compatible with the project.
*   **Tools:** A database client (e.g., DBeaver, MySQL Workbench) to verify database state.

## 3. Test Cases

### 3.1. Prerequisite Steps

*   Ensure the database server is running.
*   Ensure the `users` table exists with the correct schema (id, name, email, department).
*   Populate the `users` table with sample data (e.g., at least 3-5 users).
*   Launch the `UserListView` application.

### 3.2. Delete Functionality

| Test Case ID | Description                                                                 | Steps                                                                                                                                                                                                                            | Expected Result                                                                                                                                                           | Actual Result | Status (Pass/Fail) |
|--------------|-----------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| DEL-001      | Delete a user - Confirm Deletion                                            | 1. Identify a user in the JTable. <br> 2. Click the "Delete" button for that user. <br> 3. In the confirmation dialog, click "Yes".                                                                                               | The user is removed from the JTable. <br> A success message is displayed.                                                                                                 |               |                    |
| DEL-002      | Verify database reflects the deletion                                       | 1. Perform DEL-001. <br> 2. Using a database client, query the `users` table for the deleted user's ID.                                                                                                                       | The user's record is not found in the database.                                                                                                                           |               |                    |
| DEL-003      | Attempt to delete a user that was already deleted (from another session/view) | 1. Delete a user via database client or another instance of the app. <br> 2. In the current `UserListView` (without refreshing), click "Delete" for that same (now non-existent) user. <br> 3. Confirm deletion.           | An appropriate error message is displayed (e.g., "User not found or could not be deleted."). <br> The JTable might refresh or the row might remain (implementation dependent). |               |                    |
| DEL-004      | Cancel a delete operation                                                   | 1. Identify a user in the JTable. <br> 2. Click the "Delete" button for that user. <br> 3. In the confirmation dialog, click "No" or close the dialog.                                                                         | The user remains in the JTable. <br> No success or error message related to deletion is shown. <br> The user's record remains in the database.                               |               |                    |
| DEL-005      | Delete the first user in the list                                           | 1. Click "Delete" for the first user in the JTable. <br> 2. Confirm deletion.                                                                                                                                                   | User is removed from JTable and database.                                                                                                                                 |               |                    |
| DEL-006      | Delete the last user in the list                                            | 1. Click "Delete" for the last user in the JTable. <br> 2. Confirm deletion.                                                                                                                                                    | User is removed from JTable and database.                                                                                                                                 |               |                    |

### 3.3. Edit Functionality

| Test Case ID | Description                                                                 | Steps                                                                                                                                                                                                                                                              | Expected Result                                                                                                                                                                                                                            | Actual Result | Status (Pass/Fail) |
|--------------|-----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| EDIT-001     | Edit a user's details (single field) and save                             | 1. Identify a user. Click "Edit". <br> 2. In the Edit dialog, change the user's name. <br> 3. Click "Save".                                                                                                                                                        | The JTable updates to show the new name. <br> A success message is displayed. <br> The database reflects the updated name.                                                                                                                  |               |                    |
| EDIT-002     | Edit multiple fields for a user and save                                  | 1. Identify a user. Click "Edit". <br> 2. In the Edit dialog, change the user's name, email, and department. <br> 3. Click "Save".                                                                                                                                 | The JTable updates to show all new details. <br> A success message is displayed. <br> The database reflects all updated details.                                                                                                            |               |                    |
| EDIT-003     | Verify database reflects the edits                                          | 1. Perform EDIT-001 or EDIT-002. <br> 2. Using a database client, query the `users` table for the edited user's ID.                                                                                                                                              | The user's record in the database shows the new data.                                                                                                                                                                                      |               |                    |
| EDIT-004     | Attempt to save with an empty "Name" field                                  | 1. Identify a user. Click "Edit". <br> 2. Clear the "Name" field. <br> 3. Click "Save".                                                                                                                                                                            | A validation error message is displayed (e.g., "All fields must be filled."). <br> The Edit dialog remains open. <br> No changes are saved to the JTable or database.                                                                        |               |                    |
| EDIT-005     | Attempt to save with an empty "Email" field                                 | 1. Identify a user. Click "Edit". <br> 2. Clear the "Email" field. <br> 3. Click "Save".                                                                                                                                                                           | A validation error message is displayed. <br> The Edit dialog remains open. <br> No changes are saved.                                                                                                                                    |               |                    |
| EDIT-006     | Attempt to save with an empty "Department" field                            | 1. Identify a user. Click "Edit". <br> 2. Clear the "Department" field. <br> 3. Click "Save".                                                                                                                                                                    | A validation error message is displayed. <br> The Edit dialog remains open. <br> No changes are saved.                                                                                                                                    |               |                    |
| EDIT-007     | Cancel an edit operation                                                    | 1. Identify a user. Click "Edit". <br> 2. Change data in one or more fields. <br> 3. Click "Cancel" or close the dialog.                                                                                                                                             | The Edit dialog closes. <br> The JTable shows the original user data (no changes). <br> The database reflects the original user data.                                                                                                       |               |                    |
| EDIT-008     | Edit the first user in the list                                             | 1. Click "Edit" for the first user. <br> 2. Change data and click "Save".                                                                                                                                                                                          | JTable and database are updated correctly.                                                                                                                                                                                                 |               |                    |
| EDIT-009     | Edit the last user in the list                                              | 1. Click "Edit" for the last user. <br> 2. Change data and click "Save".                                                                                                                                                                                           | JTable and database are updated correctly.                                                                                                                                                                                                 |               |                    |
| EDIT-010     | Attempt to edit a user that was deleted from another session/view           | 1. Delete a user via database client. <br> 2. In `UserListView` (without refresh), click "Edit" for that user. <br> 3. Change data. Click "Save". (Dialog might not open if ID check is done prior, or save will fail). | An error message indicating the user could not be updated/found is displayed. <br> (Behavior might vary: if dialog opens, save will fail. If ID is checked before dialog, it might show an error earlier). |               |                    |


### 3.4. Error Handling

| Test Case ID | Description                                                               | Steps                                                                                                                                                                                                                         | Expected Result                                                                                                                                                                                                                                                              | Actual Result | Status (Pass/Fail) |
|--------------|---------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| ERR-001      | Simulate DB connection error for initial data fetch                       | 1. Modify `DBConnection.java` to use invalid DB URL, user, or password (e.g., change `localhost` to `fakelocalhost` or bad password). <br> 2. Relaunch `UserListView`.                                                     | A user-friendly error message is displayed (e.g., "Database error while loading user data: ..."). <br> The JTable remains empty or shows no data.                                                                                                                            |               |                    |
| ERR-002      | Simulate DB connection error for Delete operation                         | 1. Launch `UserListView` with correct DB details. <br> 2. Modify `DBConnection.java` to use invalid DB details. <br> 3. Attempt to delete a user. <br> 4. Confirm deletion.                                                  | A user-friendly error message is displayed (e.g., "Database error during deletion: ..."). <br> The user is NOT removed from the JTable.                                                                                                                                   |               |                    |
| ERR-003      | Simulate DB connection error for Update (Edit) operation                  | 1. Launch `UserListView` with correct DB details. <br> 2. Modify `DBConnection.java` to use invalid DB details. <br> 3. Attempt to edit a user and click "Save".                                                            | A user-friendly error message is displayed (e.g., "Database error during update: ..."). <br> The Edit dialog might close or stay open. <br> The JTable does NOT reflect the new data. <br> (After test, revert `DBConnection.java` changes). |               |                    |
| ERR-004      | Invalid User ID format in table (Manually simulate if not naturally possible) | 1. (If possible to simulate) Have a non-integer ID in a row when "Edit" or "Delete" is clicked. <br> (This is hard to test without direct table manipulation that bypasses application logic).                               | A user-friendly error message is displayed (e.g., "Invalid user ID format...").                                                                                                                                                                                            |               |                    |

*Note: For ERR-001, ERR-002, ERR-003, remember to revert changes to `DBConnection.java` after the test to allow other tests to proceed.*

### 3.5. UI/UX (User Interface / User Experience)

| Test Case ID | Description                                                              | Steps                                                                                                                                      | Expected Result                                                                                                                                                                                                                                                             | Actual Result | Status (Pass/Fail) |
|--------------|--------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| UI-001       | Verify "Edit" and "Delete" buttons display on all rows                   | 1. Launch `UserListView` with multiple users.                                                                                                | Each row in the JTable displays an "Edit" button and a "Delete" button in their respective columns.                                                                                                                                                                         |               |                    |
| UI-002       | Verify Delete Confirmation Dialog                                        | 1. Click a "Delete" button.                                                                                                                | A confirmation dialog appears with a clear question (e.g., "Are you sure..."), a relevant title (e.g., "Confirm Deletion"), and "Yes"/"No" options. The dialog should be modal.                                                                                              |               |                    |
| UI-003       | Verify Edit User Dialog                                                  | 1. Click an "Edit" button.                                                                                                                 | The "Edit User" dialog appears, pre-filled with the selected user's current name, email, and department. <br> It has "Save" and "Cancel" buttons. The dialog is modal.                                                                                                     |               |                    |
| UI-004       | Verify error dialogs are user-friendly                                   | 1. Trigger any error condition (e.g., validation error from EDIT-004, DB error from ERR-001).                                              | Error dialogs are displayed with clear, understandable messages, appropriate titles (e.g., "Validation Error", "Database Error"), and an error icon. Dialogs are modal.                                                                                                |               |                    |
| UI-005       | Verify table refresh after successful delete                             | 1. Successfully delete a user (DEL-001).                                                                                                   | The JTable immediately refreshes to remove the deleted user's row.                                                                                                                                                                                                          |               |                    |
| UI-006       | Verify table refresh after successful edit                               | 1. Successfully edit a user (EDIT-001).                                                                                                    | The JTable immediately refreshes to show the updated data in the correct row.                                                                                                                                                                                               |               |                    |
| UI-007       | Verify dialogs are modal                                                 | 1. Open any dialog (Edit, Delete confirmation, error). <br> 2. Attempt to interact with the main `UserListView` window.                    | Interaction with the main `UserListView` window should be blocked until the dialog is dismissed.                                                                                                                                                                            |               |                    |

### 3.6. Edge Cases

| Test Case ID | Description                                                              | Steps                                                                                                                                                              | Expected Result                                                                                                                                                                                                                                                                                                                          | Actual Result | Status (Pass/Fail) |
|--------------|--------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| EDGE-001     | Test with an empty user list (initial state)                             | 1. Ensure the `users` table in the database is empty. <br> 2. Launch `UserListView`.                                                                                | The JTable is displayed with headers but no data rows. <br> The application handles this gracefully without errors.                                                                                                                                                                                                                         |               |                    |
| EDGE-002     | Test with an empty user list - Attempt Edit/Delete (no rows to click)    | 1. Perform EDGE-001.                                                                                                                                               | No rows are available to click "Edit" or "Delete". This is not an error but a state observation. (If it were possible to trigger programmatically, it should handle it, but UI prevents it).                                                                                                                                                |               |                    |
| EDGE-003     | Test with a large number of users (e.g., 100+) - (Manual population)     | 1. (Optional, if feasible to populate) Add a large number of users to the database. <br> 2. Launch `UserListView`. <br> 3. Scroll through the list. <br> 4. Perform an edit/delete. | The application loads and displays the users without significant performance degradation. <br> Scrolling is smooth. <br> Edit/Delete operations are performed in a reasonable time. (Performance is subjective here but watch for obvious freezes).                                                                                               |               |                    |
| EDGE-004     | Test deleting all users one by one                                       | 1. Start with multiple users. <br> 2. Delete each user one by one until the list is empty.                                                                         | Each deletion is successful. <br> The table becomes empty. <br> No errors occur.                                                                                                                                                                                                                                                           |               |                    |

## 4. Reporting Defects

For any test case that fails, a defect report should be created including:
*   Test Case ID
*   Description of the defect
*   Steps to reproduce
*   Expected Result
*   Actual Result
*   Severity/Priority
*   Screenshots (if applicable)

This test plan provides a comprehensive set of manual tests to ensure the quality of the User Management Application.
